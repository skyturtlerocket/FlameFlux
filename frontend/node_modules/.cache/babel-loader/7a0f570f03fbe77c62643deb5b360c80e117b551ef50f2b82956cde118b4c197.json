{"ast":null,"code":"var _jsxFileName = \"/Users/timothyha/firecast/frontend/src/WildfireDashboard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Flame, AlertTriangle, Calendar, Thermometer, Wind, Eye, X, RefreshCw } from 'lucide-react';\n\n// ========================================================================================================================================\n// API calls to Flask backend\n// ========================================================================================================================================\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst fetchRealTimeFireData = async () => {\n  try {\n    console.log(\"Fetching real-time fire data from Flask backend...\");\n    const response = await fetch('/api/fires', {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      }\n    });\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n    const data = await response.json();\n    console.log(`Received ${data.total || 0} fires from backend`);\n    return data.fires || [];\n  } catch (error) {\n    console.error('Failed to fetch fire data from backend:', error);\n    throw error;\n  }\n};\n\n// ========================================================================================================================================\n// Dashboard component\n// ========================================================================================================================================\n\nconst WildfireDashboard = () => {\n  _s();\n  //stuff with ui states\n  const [fires, setFires] = useState([]);\n  const [selectedFire, setSelectedFire] = useState(null);\n  const [prediction, setPrediction] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [showPrediction, setShowPrediction] = useState(false);\n  const [mapLayer, setMapLayer] = useState('satellite');\n  const [dataError, setDataError] = useState(null);\n  const [isLoadingData, setIsLoadingData] = useState(true);\n  const mapRef = useRef(null);\n  const mapInstanceRef = useRef(null);\n  const markersRef = useRef([]);\n  const polygonsRef = useRef([]);\n  useEffect(() => {\n    // Load real-time fire data when component mounts\n    const loadFireData = async () => {\n      try {\n        setIsLoadingData(true);\n        setDataError(null);\n        const realTimeFireData = await fetchRealTimeFireData();\n        setFires(realTimeFireData);\n        console.log('Fire data loaded successfully:', realTimeFireData.length, 'fires');\n      } catch (error) {\n        console.error('Failed to load real-time fire data:', error);\n        setDataError(error.message);\n        setFires([]); // Set empty array on error\n      } finally {\n        setIsLoadingData(false);\n      }\n    };\n    loadFireData();\n\n    // loading leaflet and css\n    const loadLeaflet = async () => {\n      try {\n        // adding css\n        if (!document.querySelector('link[href*=\"leaflet\"]')) {\n          const link = document.createElement('link');\n          link.rel = 'stylesheet';\n          link.href = 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.css';\n          document.head.appendChild(link);\n        }\n\n        // loading leaflet\n        if (!window.L) {\n          const script = document.createElement('script');\n          script.src = 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.js';\n          script.onload = () => {\n            console.log('Leaflet loaded successfully');\n            initializeMap();\n          };\n          script.onerror = () => {\n            console.error('Failed to load Leaflet');\n          };\n          document.head.appendChild(script);\n        } else {\n          initializeMap();\n        }\n      } catch (error) {\n        console.error('Error loading Leaflet:', error);\n      }\n    };\n\n    //starting the map for the user\n    const initializeMap = () => {\n      if (!mapRef.current || mapInstanceRef.current) return;\n      try {\n        const L = window.L;\n\n        // Initialize the map to be in San Francisco Bay Area\n        // we could use the user's location in real production, but this is just a default location\n        const map = L.map(mapRef.current, {\n          center: [37.7749, -122.4194],\n          zoom: 10,\n          zoomControl: false\n        });\n\n        // add tile layers because leaflet doesn't have satellite on default\n        const getTileUrl = layer => {\n          switch (layer) {\n            case 'satellite':\n              //satellite\n              return 'https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}';\n            case 'terrain':\n              //terrain map\n              return 'https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png';\n            default:\n              //normal\n              return 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';\n          }\n        };\n\n        // credits to open street map\n        const tileLayer = L.tileLayer(getTileUrl(mapLayer), {\n          attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n        }).addTo(map);\n\n        // references\n        mapInstanceRef.current = map;\n        mapInstanceRef.current.tileLayer = tileLayer;\n\n        // add the markers when fires are loaded\n        if (fires.length > 0) {\n          addFireMarkers(map, L);\n        }\n\n        // map resizing\n        const resizeObserver = new ResizeObserver(() => {\n          map.invalidateSize();\n        });\n        resizeObserver.observe(mapRef.current);\n        console.log('Map initialized successfully');\n      } catch (error) {\n        console.error('Error initializing map:', error);\n      }\n    };\n    loadLeaflet();\n\n    // actually display ts\n    return () => {\n      if (mapInstanceRef.current) {\n        mapInstanceRef.current.remove();\n        mapInstanceRef.current = null;\n      }\n    };\n  }, []);\n\n  // change the tiles when the map type changes\n  useEffect(() => {\n    if (mapInstanceRef.current && mapInstanceRef.current.tileLayer) {\n      const L = window.L;\n      mapInstanceRef.current.removeLayer(mapInstanceRef.current.tileLayer);\n      const getTileUrl = layer => {\n        switch (layer) {\n          case 'satellite':\n            return 'https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}';\n          case 'terrain':\n            return 'https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png';\n          default:\n            return 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';\n        }\n      };\n      const newTileLayer = L.tileLayer(getTileUrl(mapLayer), {\n        attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n      }).addTo(mapInstanceRef.current);\n      mapInstanceRef.current.tileLayer = newTileLayer;\n    }\n  }, [mapLayer]);\n  useEffect(() => {\n    if (mapInstanceRef.current && window.L && fires.length > 0) {\n      addFireMarkers(mapInstanceRef.current, window.L);\n    }\n  }, [fires]);\n  const addFirePolygons = (map, L, fire) => {\n    const {\n      geometry\n    } = fire;\n    try {\n      if (geometry.type === 'Polygon') {\n        // For Polygon: coordinates[0] is the outer ring\n        const coords = geometry.coordinates[0];\n\n        // Validate coordinates array\n        if (!coords || coords.length < 3) {\n          console.warn('Invalid polygon coordinates for fire:', fire.name);\n          return;\n        }\n\n        // Convert [lng, lat] to [lat, lng] and filter out invalid coordinates\n        const leafletCoords = coords.filter(coord => Array.isArray(coord) && coord.length >= 2 && typeof coord[0] === 'number' && typeof coord[1] === 'number' && !isNaN(coord[0]) && !isNaN(coord[1])).map(coord => [coord[1], coord[0]]);\n        if (leafletCoords.length < 3) {\n          console.warn('Not enough valid coordinates for polygon:', fire.name);\n          return;\n        }\n        const polygon = L.polygon(leafletCoords, {\n          color: '#ef4444',\n          weight: 2,\n          opacity: 0.8,\n          fillColor: '#ef4444',\n          fillOpacity: 0.2\n        }).addTo(map);\n        polygonsRef.current.push(polygon);\n      } else if (geometry.type === 'MultiPolygon') {\n        geometry.coordinates.forEach((polygonCoords, index) => {\n          const coords = polygonCoords[0]; // outer ring\n\n          if (!coords || coords.length < 3) {\n            console.warn(`Invalid polygon coordinates for fire ${fire.name}, polygon ${index}`);\n            return;\n          }\n          const leafletCoords = coords.filter(coord => Array.isArray(coord) && coord.length >= 2 && typeof coord[0] === 'number' && typeof coord[1] === 'number' && !isNaN(coord[0]) && !isNaN(coord[1])).map(coord => [coord[1], coord[0]]);\n          if (leafletCoords.length < 3) {\n            console.warn(`Not enough valid coordinates for polygon ${index} of fire:`, fire.name);\n            return;\n          }\n          const polygon = L.polygon(leafletCoords, {\n            color: '#ef4444',\n            weight: 2,\n            opacity: 0.8,\n            fillColor: '#ef4444',\n            fillOpacity: 0.2\n          }).addTo(map);\n          polygonsRef.current.push(polygon);\n        });\n      }\n    } catch (error) {\n      console.error('Error adding fire polygon for', fire.name, ':', error);\n    }\n  };\n  const getIconSizeForSeverity = severity => {\n    switch (severity) {\n      case 'High':\n        return {\n          size: 48,\n          fontSize: '24px'\n        };\n      case 'Medium':\n        return {\n          size: 36,\n          fontSize: '18px'\n        };\n      case 'Low':\n      default:\n        return {\n          size: 24,\n          fontSize: '12px'\n        };\n    }\n  };\n  const getSeverityBackgroundColor = severity => {\n    switch (severity) {\n      case 'High':\n        return '#ef4444';\n      case 'Medium':\n        return '#f97316';\n      case 'Low':\n      default:\n        return '#eab308';\n    }\n  };\n  const addFireMarkers = (map, L) => {\n    // clearing markers and polygons\n    markersRef.current.forEach(marker => map.removeLayer(marker));\n    polygonsRef.current.forEach(polygon => map.removeLayer(polygon));\n    markersRef.current = [];\n    polygonsRef.current = [];\n\n    // markers for the fire\n    fires.forEach(fire => {\n      // Add polygon outlines\n      addFirePolygons(map, L, fire);\n\n      // Get icon size and background color based on severity\n      const iconConfig = getIconSizeForSeverity(fire.severity);\n      const backgroundColor = getSeverityBackgroundColor(fire.severity);\n\n      // fire icon with dynamic sizing and color\n      const fireIcon = L.divIcon({\n        html: `<div style=\"\n          background: ${backgroundColor};\n          width: ${iconConfig.size}px;\n          height: ${iconConfig.size}px;\n          border-radius: 50%;\n          border: 3px solid white;\n          box-shadow: 0 2px 8px rgba(0,0,0,0.4);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          font-size: ${iconConfig.fontSize};\n          cursor: pointer;\n        \">ðŸ”¥</div>`,\n        className: 'fire-marker',\n        iconSize: [iconConfig.size, iconConfig.size],\n        iconAnchor: [iconConfig.size / 2, iconConfig.size / 2],\n        popupAnchor: [0, -iconConfig.size / 2]\n      });\n\n      // Add marker\n      const marker = L.marker([fire.lat, fire.lng], {\n        icon: fireIcon\n      }).addTo(map).bindPopup(`\n          <div style=\"color: #374151; font-family: system-ui;\">\n            <h3 style=\"font-weight: bold; font-size: 16px; margin: 0 0 8px 0;\">${fire.name}</h3>\n            <p style=\"margin: 2px 0;\">Size: ${fire.size} acres</p>\n            <p style=\"margin: 2px 0;\">Containment: ${fire.containment ? `${fire.containment}%` : 'N/A'}</p>\n            <p style=\"margin: 2px 0; color: ${getSeverityColorHex(fire.severity)}; font-weight: 600;\">\n              Severity: ${fire.severity}\n            </p>\n            <button onclick=\"window.selectFire('${fire.id}')\" style=\"\n              background: #3b82f6;\n              color: white;\n              border: none;\n              padding: 4px 8px;\n              border-radius: 4px;\n              margin-top: 8px;\n              cursor: pointer;\n              font-size: 12px;\n            \">View Prediction</button>\n          </div>\n        `).on('click', () => handleFireClick(fire));\n      markersRef.current.push(marker);\n    });\n  };\n\n  // make it global\n  useEffect(() => {\n    window.selectFire = fireId => {\n      const fire = fires.find(f => f.id === fireId);\n      if (fire) {\n        handleFireClick(fire);\n      }\n    };\n    return () => {\n      delete window.selectFire;\n    };\n  }, [fires]);\n  const getSeverityColorHex = severity => {\n    switch (severity) {\n      case 'High':\n        return '#ef4444';\n      case 'Medium':\n        return '#f97316';\n      case 'Low':\n        return '#eab308';\n      default:\n        return '#6b7280';\n    }\n  };\n\n  // ========================================================================================================================================\n  // This is where you would get the predictions from the model\n  // right now its just all bullshit\n  // ========================================================================================================================================\n  const fetchPrediction = async (fireId, fireData) => {\n    if (!fireData) {\n      console.error('No fire data provided');\n      return;\n    }\n    setLoading(true);\n    await new Promise(resolve => setTimeout(resolve, 2000));\n    // some mock data, we would import this from the model in production\n    const mockPrediction = {\n      fireId: fireId,\n      predictionDate: new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString(),\n      estimatedSize: fireData.size * (1.2 + Math.random() * 0.8),\n      confidence: Math.floor(Math.random() * 20) + 75,\n      riskLevel: Math.random() > 0.5 ? 'High' : 'Critical',\n      perimeter: [[fireData.lat + 0.01, fireData.lng + 0.01], [fireData.lat + 0.02, fireData.lng + 0.005], [fireData.lat + 0.015, fireData.lng - 0.01], [fireData.lat - 0.005, fireData.lng - 0.015], [fireData.lat - 0.01, fireData.lng + 0.005]]\n    };\n    // then we display the predictions into the UI\n    setPrediction(mockPrediction);\n    setShowPrediction(true);\n    setLoading(false);\n  };\n  const handleFireClick = fire => {\n    setSelectedFire(fire);\n    fetchPrediction(fire.id, fire);\n    if (mapInstanceRef.current && window.L) {\n      zoomToFire(fire);\n    }\n  };\n  const zoomToFire = fire => {\n    const map = mapInstanceRef.current;\n    const L = window.L;\n    try {\n      if (fire.geometry) {\n        const tempGroup = L.layerGroup();\n        if (fire.geometry.type === 'Polygon') {\n          const coords = fire.geometry.coordinates[0];\n          if (coords && coords.length >= 3) {\n            const leafletCoords = coords.filter(coord => Array.isArray(coord) && coord.length >= 2 && typeof coord[0] === 'number' && typeof coord[1] === 'number' && !isNaN(coord[0]) && !isNaN(coord[1])).map(coord => [coord[1], coord[0]]);\n            if (leafletCoords.length >= 3) {\n              const polygon = L.polygon(leafletCoords);\n              tempGroup.addLayer(polygon);\n            }\n          }\n        } else if (fire.geometry.type === 'MultiPolygon') {\n          fire.geometry.coordinates.forEach(polygonCoords => {\n            const coords = polygonCoords[0];\n            if (coords && coords.length >= 3) {\n              const leafletCoords = coords.filter(coord => Array.isArray(coord) && coord.length >= 2 && typeof coord[0] === 'number' && typeof coord[1] === 'number' && !isNaN(coord[0]) && !isNaN(coord[1])).map(coord => [coord[1], coord[0]]);\n              if (leafletCoords.length >= 3) {\n                const polygon = L.polygon(leafletCoords);\n                tempGroup.addLayer(polygon);\n              }\n            }\n          });\n        }\n\n        // fit the map to the fire's bounds with padding\n        if (tempGroup.getLayers().length > 0) {\n          const bounds = tempGroup.getBounds();\n          map.fitBounds(bounds, {\n            padding: [50, 50],\n            maxZoom: 5\n          });\n        } else {\n          map.setView([fire.lat, fire.lng], 11);\n        }\n      } else {\n        map.setView([fire.lat, fire.lng], 11);\n      }\n    } catch (error) {\n      console.error('Error zooming to fire:', error);\n      map.setView([fire.lat, fire.lng], 11);\n    }\n  };\n\n  // this is in the text when showing the severity of the fire\n  const getSeverityColor = severity => {\n    switch (severity) {\n      case 'High':\n        return 'text-red-400';\n      case 'Medium':\n        return 'text-orange-400';\n      case 'Low':\n        return 'text-yellow-400';\n      default:\n        return 'text-gray-400';\n    }\n  };\n\n  // the date\n  const formatDate = isoString => {\n    if (!isoString) return 'N/A';\n    return new Date(isoString).toLocaleString();\n  };\n  const refreshData = async () => {\n    try {\n      setIsLoadingData(true);\n      setDataError(null);\n      const realTimeFireData = await fetchRealTimeFireData();\n      setFires(realTimeFireData);\n      console.log('Data refreshed successfully');\n    } catch (error) {\n      console.error('Failed to refresh data:', error);\n      setDataError(error.message);\n    } finally {\n      setIsLoadingData(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-screen flex flex-col bg-gray-900 text-white\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"bg-gray-800 p-4 shadow-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-3\",\n          children: [/*#__PURE__*/_jsxDEV(Flame, {\n            className: \"h-8 w-8 text-orange-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 512,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-2xl font-bold\",\n            children: \"Wildfire Prediction Dashboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 513,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 511,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"select\", {\n            value: mapLayer,\n            onChange: e => setMapLayer(e.target.value),\n            className: \"bg-gray-700 text-white px-3 py-2 rounded-lg border border-gray-600\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"satellite\",\n              children: \"Satellite\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 521,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"terrain\",\n              children: \"Terrain\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 522,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"standard\",\n              children: \"Standard\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 523,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 516,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: refreshData,\n            disabled: isLoadingData,\n            className: \"bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-lg flex items-center space-x-2 disabled:opacity-50\",\n            children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n              className: `h-4 w-4 ${isLoadingData ? 'animate-spin' : ''}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 530,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Refresh\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 531,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 525,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 515,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 510,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 509,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-1 overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 relative\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          ref: mapRef,\n          className: \"w-full h-full\",\n          style: {\n            minHeight: '500px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 540,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute top-4 left-4 bg-gray-800 bg-opacity-95 backdrop-blur-sm rounded-lg p-4 shadow-xl max-w-sm z-[1000] border border-gray-600\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-bold mb-3 flex items-center text-white\",\n            children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n              className: \"h-5 w-5 mr-2 text-orange-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 549,\n              columnNumber: 15\n            }, this), \"Active Fires (\", fires.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 548,\n            columnNumber: 13\n          }, this), isLoadingData && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-center py-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"animate-spin rounded-full h-6 w-6 border-b-2 border-orange-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 555,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ml-2 text-sm\",\n              children: \"Loading fire data...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 556,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 554,\n            columnNumber: 15\n          }, this), dataError && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-red-900 bg-opacity-50 p-3 rounded-lg mb-3 border border-red-700\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-red-200\",\n              children: [\"Backend Error: \", dataError]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 562,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-red-300 mt-1\",\n              children: \"Check Flask server status and logs.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 563,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 561,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2 max-h-48 overflow-y-auto\",\n            children: fires.map(fire => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gray-700 bg-opacity-90 p-3 rounded-lg cursor-pointer hover:bg-gray-600 hover:bg-opacity-95 transition-all duration-200 border border-gray-600\",\n              onClick: () => handleFireClick(fire),\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-start\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"font-semibold text-white\",\n                    children: fire.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 576,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-200\",\n                    children: [fire.size, \" acres\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 577,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-gray-300\",\n                    children: [\"Containment: \", fire.containment ? `${fire.containment}%` : 'N/A']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 578,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 575,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-right ml-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `text-sm font-medium ${getSeverityColor(fire.severity)}`,\n                    children: fire.severity\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 581,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs text-gray-400 mt-1\",\n                    children: \"Click for prediction\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 584,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 580,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 574,\n                columnNumber: 19\n              }, this)\n            }, fire.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 569,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 567,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 547,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 539,\n        columnNumber: 9\n      }, this), showPrediction && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-96 bg-gray-800 p-6 overflow-y-auto shadow-xl border-l border-gray-700\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-bold\",\n            children: \"Fire Prediction\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 599,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowPrediction(false),\n            className: \"text-gray-400 hover:text-white transition-colors\",\n            children: /*#__PURE__*/_jsxDEV(X, {\n              className: \"h-5 w-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 604,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 600,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 598,\n          columnNumber: 13\n        }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-center h-32\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 610,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"ml-2\",\n            children: \"Generating prediction...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 611,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 609,\n          columnNumber: 15\n        }, this) : selectedFire && prediction && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-700 p-4 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold text-lg mb-2\",\n              children: selectedFire.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 618,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 gap-2 text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Size: \", selectedFire.size, \" acres\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 620,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Containment: \", selectedFire.containment ? `${selectedFire.containment}%` : 'N/A']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 621,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: getSeverityColor(selectedFire.severity),\n                children: [\"Severity: \", selectedFire.severity]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 622,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Updated: \", formatDate(selectedFire.lastUpdate)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 625,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 619,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 617,\n            columnNumber: 19\n          }, this), selectedFire.weather && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-700 p-4 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-semibold mb-2 flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(Thermometer, {\n                className: \"h-4 w-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 633,\n                columnNumber: 25\n              }, this), \"Current Weather\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 632,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 gap-2 text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Temperature: \", selectedFire.weather.temperature, \"\\xB0F\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 637,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Humidity: \", selectedFire.weather.humidity, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 638,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(Wind, {\n                  className: \"h-3 w-3 mr-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 640,\n                  columnNumber: 27\n                }, this), \"Wind: \", selectedFire.weather.windSpeed, \" mph \", selectedFire.weather.windDirection]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 639,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 636,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 631,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-red-900 bg-opacity-50 p-4 rounded-lg border border-red-700\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-semibold mb-2 flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(Calendar, {\n                className: \"h-4 w-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 650,\n                columnNumber: 23\n              }, this), \"24-Hour Prediction\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 649,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2 text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Estimated Size: \", Math.round(prediction.estimatedSize), \" acres\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 654,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Growth: +\", Math.round(prediction.estimatedSize - selectedFire.size), \" acres\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 655,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Risk Level: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-red-400 font-semibold\",\n                  children: prediction.riskLevel\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 656,\n                  columnNumber: 40\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 656,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Confidence: \", prediction.confidence, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 657,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Prediction Date: \", formatDate(prediction.predictionDate)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 658,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 653,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 648,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 615,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 597,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 537,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 507,\n    columnNumber: 5\n  }, this);\n};\n_s(WildfireDashboard, \"kUuoy1UYhd7WDieTswwkEGMiC7c=\");\n_c = WildfireDashboard;\nexport default WildfireDashboard;\nvar _c;\n$RefreshReg$(_c, \"WildfireDashboard\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Flame","AlertTriangle","Calendar","Thermometer","Wind","Eye","X","RefreshCw","jsxDEV","_jsxDEV","fetchRealTimeFireData","console","log","response","fetch","method","headers","ok","Error","status","data","json","total","fires","error","WildfireDashboard","_s","setFires","selectedFire","setSelectedFire","prediction","setPrediction","loading","setLoading","showPrediction","setShowPrediction","mapLayer","setMapLayer","dataError","setDataError","isLoadingData","setIsLoadingData","mapRef","mapInstanceRef","markersRef","polygonsRef","loadFireData","realTimeFireData","length","message","loadLeaflet","document","querySelector","link","createElement","rel","href","head","appendChild","window","L","script","src","onload","initializeMap","onerror","current","map","center","zoom","zoomControl","getTileUrl","layer","tileLayer","attribution","addTo","addFireMarkers","resizeObserver","ResizeObserver","invalidateSize","observe","remove","removeLayer","newTileLayer","addFirePolygons","fire","geometry","type","coords","coordinates","warn","name","leafletCoords","filter","coord","Array","isArray","isNaN","polygon","color","weight","opacity","fillColor","fillOpacity","push","forEach","polygonCoords","index","getIconSizeForSeverity","severity","size","fontSize","getSeverityBackgroundColor","marker","iconConfig","backgroundColor","fireIcon","divIcon","html","className","iconSize","iconAnchor","popupAnchor","lat","lng","icon","bindPopup","containment","getSeverityColorHex","id","on","handleFireClick","selectFire","fireId","find","f","fetchPrediction","fireData","Promise","resolve","setTimeout","mockPrediction","predictionDate","Date","now","toISOString","estimatedSize","Math","random","confidence","floor","riskLevel","perimeter","zoomToFire","tempGroup","layerGroup","addLayer","getLayers","bounds","getBounds","fitBounds","padding","maxZoom","setView","getSeverityColor","formatDate","isoString","toLocaleString","refreshData","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","onClick","disabled","ref","style","minHeight","lastUpdate","weather","temperature","humidity","windSpeed","windDirection","round","_c","$RefreshReg$"],"sources":["/Users/timothyha/firecast/frontend/src/WildfireDashboard.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { Flame, AlertTriangle, Calendar, Thermometer, Wind, Eye, X, RefreshCw } from 'lucide-react';\n\n// ========================================================================================================================================\n// API calls to Flask backend\n// ========================================================================================================================================\n\nconst fetchRealTimeFireData = async () => {\n  try {\n    console.log(\"Fetching real-time fire data from Flask backend...\");\n    \n    const response = await fetch('/api/fires', {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      }\n    });\n    \n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n    \n    const data = await response.json();\n    \n    console.log(`Received ${data.total || 0} fires from backend`);\n    \n    return data.fires || [];\n  } catch (error) {\n    console.error('Failed to fetch fire data from backend:', error);\n    throw error;\n  }\n};\n\n// ========================================================================================================================================\n// Dashboard component\n// ========================================================================================================================================\n\nconst WildfireDashboard = () => {\n  //stuff with ui states\n  const [fires, setFires] = useState([]);\n  const [selectedFire, setSelectedFire] = useState(null);\n  const [prediction, setPrediction] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [showPrediction, setShowPrediction] = useState(false);\n  const [mapLayer, setMapLayer] = useState('satellite');\n  const [dataError, setDataError] = useState(null);\n  const [isLoadingData, setIsLoadingData] = useState(true);\n  const mapRef = useRef(null);\n  const mapInstanceRef = useRef(null);\n  const markersRef = useRef([]);\n  const polygonsRef = useRef([]);\n\n  useEffect(() => {\n    // Load real-time fire data when component mounts\n    const loadFireData = async () => {\n      try {\n        setIsLoadingData(true);\n        setDataError(null);\n        const realTimeFireData = await fetchRealTimeFireData();\n        setFires(realTimeFireData);\n        console.log('Fire data loaded successfully:', realTimeFireData.length, 'fires');\n      } catch (error) {\n        console.error('Failed to load real-time fire data:', error);\n        setDataError(error.message);\n        setFires([]); // Set empty array on error\n      } finally {\n        setIsLoadingData(false);\n      }\n    };\n  \n    loadFireData();\n    \n    // loading leaflet and css\n    const loadLeaflet = async () => {\n      try {\n        // adding css\n        if (!document.querySelector('link[href*=\"leaflet\"]')) {\n          const link = document.createElement('link');\n          link.rel = 'stylesheet';\n          link.href = 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.css';\n          document.head.appendChild(link);\n        }\n\n        // loading leaflet\n        if (!window.L) {\n          const script = document.createElement('script');\n          script.src = 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.js';\n          script.onload = () => {\n            console.log('Leaflet loaded successfully');\n            initializeMap();\n          };\n          script.onerror = () => {\n            console.error('Failed to load Leaflet');\n          };\n          document.head.appendChild(script);\n        } else {\n          initializeMap();\n        }\n      } catch (error) {\n        console.error('Error loading Leaflet:', error);\n      }\n    };\n    \n    //starting the map for the user\n    const initializeMap = () => {\n      if (!mapRef.current || mapInstanceRef.current) return;\n\n      try {\n        const L = window.L;\n        \n        // Initialize the map to be in San Francisco Bay Area\n        // we could use the user's location in real production, but this is just a default location\n        const map = L.map(mapRef.current, {\n          center: [37.7749, -122.4194],\n          zoom: 10,\n          zoomControl: false\n        });\n\n        // add tile layers because leaflet doesn't have satellite on default\n        const getTileUrl = (layer) => {\n          switch (layer) {\n            case 'satellite': //satellite\n              return 'https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}';\n            case 'terrain': //terrain map\n              return 'https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png';\n            default: //normal\n              return 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';\n          }\n        };\n        \n        // credits to open street map\n        const tileLayer = L.tileLayer(getTileUrl(mapLayer), {\n          attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n        }).addTo(map);\n\n        // references\n        mapInstanceRef.current = map;\n        mapInstanceRef.current.tileLayer = tileLayer;\n\n        // add the markers when fires are loaded\n        if (fires.length > 0) {\n          addFireMarkers(map, L);\n        }\n\n        // map resizing\n        const resizeObserver = new ResizeObserver(() => {\n          map.invalidateSize();\n        });\n        resizeObserver.observe(mapRef.current);\n\n        console.log('Map initialized successfully');\n      } catch (error) {\n        console.error('Error initializing map:', error);\n      }\n    };\n\n    loadLeaflet();\n    \n    // actually display ts\n    return () => {\n      if (mapInstanceRef.current) {\n        mapInstanceRef.current.remove();\n        mapInstanceRef.current = null;\n      }\n    };\n  }, []);\n\n  // change the tiles when the map type changes\n  useEffect(() => {\n    if (mapInstanceRef.current && mapInstanceRef.current.tileLayer) {\n      const L = window.L;\n      mapInstanceRef.current.removeLayer(mapInstanceRef.current.tileLayer);\n      \n      const getTileUrl = (layer) => {\n        switch (layer) {\n          case 'satellite':\n            return 'https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}';\n          case 'terrain':\n            return 'https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png';\n          default:\n            return 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';\n        }\n      };\n\n      const newTileLayer = L.tileLayer(getTileUrl(mapLayer), {\n        attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n      }).addTo(mapInstanceRef.current);\n\n      mapInstanceRef.current.tileLayer = newTileLayer;\n    }\n  }, [mapLayer]);\n\n  useEffect(() => {\n    if (mapInstanceRef.current && window.L && fires.length > 0) {\n      addFireMarkers(mapInstanceRef.current, window.L);\n    }\n  }, [fires]);\n\n  const addFirePolygons = (map, L, fire) => {\n    const { geometry } = fire;\n    \n    try {\n      if (geometry.type === 'Polygon') {\n        // For Polygon: coordinates[0] is the outer ring\n        const coords = geometry.coordinates[0];\n        \n        // Validate coordinates array\n        if (!coords || coords.length < 3) {\n          console.warn('Invalid polygon coordinates for fire:', fire.name);\n          return;\n        }\n        \n        // Convert [lng, lat] to [lat, lng] and filter out invalid coordinates\n        const leafletCoords = coords\n          .filter(coord => Array.isArray(coord) && coord.length >= 2 && \n                  typeof coord[0] === 'number' && typeof coord[1] === 'number' &&\n                  !isNaN(coord[0]) && !isNaN(coord[1]))\n          .map(coord => [coord[1], coord[0]]);\n        \n        if (leafletCoords.length < 3) {\n          console.warn('Not enough valid coordinates for polygon:', fire.name);\n          return;\n        }\n        \n        const polygon = L.polygon(leafletCoords, {\n          color: '#ef4444',\n          weight: 2,\n          opacity: 0.8,\n          fillColor: '#ef4444',\n          fillOpacity: 0.2\n        }).addTo(map);\n        \n        polygonsRef.current.push(polygon);\n        \n      } else if (geometry.type === 'MultiPolygon') {\n        geometry.coordinates.forEach((polygonCoords, index) => {\n          const coords = polygonCoords[0]; // outer ring\n\n          if (!coords || coords.length < 3) {\n            console.warn(`Invalid polygon coordinates for fire ${fire.name}, polygon ${index}`);\n            return;\n          }\n          \n\n          const leafletCoords = coords\n            .filter(coord => Array.isArray(coord) && coord.length >= 2 && typeof coord[0] === 'number' && typeof coord[1] === 'number' && !isNaN(coord[0]) && !isNaN(coord[1])) .map(coord => [coord[1], coord[0]]);\n          \n          if (leafletCoords.length < 3) {\n            console.warn(`Not enough valid coordinates for polygon ${index} of fire:`, fire.name);\n            return;\n          }\n          \n          const polygon = L.polygon(leafletCoords, {\n            color: '#ef4444',\n            weight: 2,\n            opacity: 0.8,\n            fillColor: '#ef4444',\n            fillOpacity: 0.2\n          }).addTo(map);\n          \n          polygonsRef.current.push(polygon);\n        });\n      }\n    } catch (error) {\n      console.error('Error adding fire polygon for', fire.name, ':', error);\n    }\n  };\n\n  const getIconSizeForSeverity = (severity) => {\n    switch (severity) {\n      case 'High':\n        return { size: 48, fontSize: '24px' };\n      case 'Medium':\n        return { size: 36, fontSize: '18px' };\n      case 'Low':\n      default:\n        return { size: 24, fontSize: '12px' };\n    }\n  };\n\n  const getSeverityBackgroundColor = (severity) => {\n    switch (severity) {\n      case 'High':\n        return '#ef4444';\n      case 'Medium':\n        return '#f97316';\n      case 'Low':\n      default:\n        return '#eab308';\n    }\n  };\n\n  const addFireMarkers = (map, L) => {\n    // clearing markers and polygons\n    markersRef.current.forEach(marker => map.removeLayer(marker));\n    polygonsRef.current.forEach(polygon => map.removeLayer(polygon));\n    markersRef.current = [];\n    polygonsRef.current = [];\n\n    // markers for the fire\n    fires.forEach(fire => {\n      // Add polygon outlines\n      addFirePolygons(map, L, fire);\n      \n      // Get icon size and background color based on severity\n      const iconConfig = getIconSizeForSeverity(fire.severity);\n      const backgroundColor = getSeverityBackgroundColor(fire.severity);\n      \n      // fire icon with dynamic sizing and color\n      const fireIcon = L.divIcon({\n        html: `<div style=\"\n          background: ${backgroundColor};\n          width: ${iconConfig.size}px;\n          height: ${iconConfig.size}px;\n          border-radius: 50%;\n          border: 3px solid white;\n          box-shadow: 0 2px 8px rgba(0,0,0,0.4);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          font-size: ${iconConfig.fontSize};\n          cursor: pointer;\n        \">ðŸ”¥</div>`,\n        className: 'fire-marker',\n        iconSize: [iconConfig.size, iconConfig.size],\n        iconAnchor: [iconConfig.size / 2, iconConfig.size / 2],\n        popupAnchor: [0, -iconConfig.size / 2]\n      });\n      \n      // Add marker\n      const marker = L.marker([fire.lat, fire.lng], { icon: fireIcon })\n        .addTo(map)\n        .bindPopup(`\n          <div style=\"color: #374151; font-family: system-ui;\">\n            <h3 style=\"font-weight: bold; font-size: 16px; margin: 0 0 8px 0;\">${fire.name}</h3>\n            <p style=\"margin: 2px 0;\">Size: ${fire.size} acres</p>\n            <p style=\"margin: 2px 0;\">Containment: ${fire.containment ? `${fire.containment}%` : 'N/A'}</p>\n            <p style=\"margin: 2px 0; color: ${getSeverityColorHex(fire.severity)}; font-weight: 600;\">\n              Severity: ${fire.severity}\n            </p>\n            <button onclick=\"window.selectFire('${fire.id}')\" style=\"\n              background: #3b82f6;\n              color: white;\n              border: none;\n              padding: 4px 8px;\n              border-radius: 4px;\n              margin-top: 8px;\n              cursor: pointer;\n              font-size: 12px;\n            \">View Prediction</button>\n          </div>\n        `)\n        .on('click', () => handleFireClick(fire));\n\n      markersRef.current.push(marker);\n    });\n  };\n\n  // make it global\n  useEffect(() => {\n    window.selectFire = (fireId) => {\n      const fire = fires.find(f => f.id === fireId);\n      if (fire) {\n        handleFireClick(fire);\n      }\n    };\n    \n    return () => {\n      delete window.selectFire;\n    };\n  }, [fires]);\n\n  const getSeverityColorHex = (severity) => {\n    switch (severity) {\n      case 'High': return '#ef4444';\n      case 'Medium': return '#f97316';\n      case 'Low': return '#eab308';\n      default: return '#6b7280';\n    }\n  };\n  \n  // ========================================================================================================================================\n  // This is where you would get the predictions from the model\n  // right now its just all bullshit\n  // ========================================================================================================================================\n  const fetchPrediction = async (fireId, fireData) => {\n    if (!fireData) {\n      console.error('No fire data provided');\n      return;\n    }\n    \n    setLoading(true);\n    await new Promise(resolve => setTimeout(resolve, 2000));\n    // some mock data, we would import this from the model in production\n    const mockPrediction = {\n      fireId: fireId,\n      predictionDate: new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString(),\n      estimatedSize: fireData.size * (1.2 + Math.random() * 0.8),\n      confidence: Math.floor(Math.random() * 20) + 75,\n      riskLevel: Math.random() > 0.5 ? 'High' : 'Critical',\n      perimeter: [\n        [fireData.lat + 0.01, fireData.lng + 0.01],\n        [fireData.lat + 0.02, fireData.lng + 0.005],\n        [fireData.lat + 0.015, fireData.lng - 0.01],\n        [fireData.lat - 0.005, fireData.lng - 0.015],\n        [fireData.lat - 0.01, fireData.lng + 0.005]\n      ]\n    };\n    // then we display the predictions into the UI\n    setPrediction(mockPrediction);\n    setShowPrediction(true);\n    setLoading(false);\n  };\n\n  const handleFireClick = (fire) => {\n    setSelectedFire(fire);\n    fetchPrediction(fire.id, fire);\n    if (mapInstanceRef.current && window.L) {\n      zoomToFire(fire);\n    }\n  };\n\n  const zoomToFire = (fire) => {\n    const map = mapInstanceRef.current;\n    const L = window.L;\n    \n    try {\n      if (fire.geometry) {\n        const tempGroup = L.layerGroup();\n        \n        if (fire.geometry.type === 'Polygon') {\n          const coords = fire.geometry.coordinates[0];\n          if (coords && coords.length >= 3) {\n            const leafletCoords = coords\n              .filter(coord => Array.isArray(coord) && coord.length >= 2 && typeof coord[0] === 'number' && typeof coord[1] === 'number' && !isNaN(coord[0]) && !isNaN(coord[1])) .map(coord => [coord[1], coord[0]]);\n            if (leafletCoords.length >= 3) {\n              const polygon = L.polygon(leafletCoords);\n              tempGroup.addLayer(polygon);\n            }\n          }\n        } else if (fire.geometry.type === 'MultiPolygon') {\n          fire.geometry.coordinates.forEach(polygonCoords => {\n            const coords = polygonCoords[0];\n            if (coords && coords.length >= 3) {\n              const leafletCoords = coords\n                .filter(coord => Array.isArray(coord) && coord.length >= 2 && typeof coord[0] === 'number' && typeof coord[1] === 'number' && !isNaN(coord[0]) && !isNaN(coord[1])) .map(coord => [coord[1], coord[0]]);\n              if (leafletCoords.length >= 3) {\n                const polygon = L.polygon(leafletCoords);\n                tempGroup.addLayer(polygon);\n              }\n            }\n          });\n        }\n        \n        // fit the map to the fire's bounds with padding\n        if (tempGroup.getLayers().length > 0) {\n          const bounds = tempGroup.getBounds();\n          map.fitBounds(bounds, {\n            padding: [50, 50], \n            maxZoom: 5\n          });\n        } else {\n          map.setView([fire.lat, fire.lng], 11);\n        }\n      } else {\n        map.setView([fire.lat, fire.lng], 11);\n      }\n    } catch (error) {\n      console.error('Error zooming to fire:', error);\n      map.setView([fire.lat, fire.lng], 11);\n    }\n  };\n  \n  // this is in the text when showing the severity of the fire\n  const getSeverityColor = (severity) => {\n    switch (severity) {\n      case 'High': return 'text-red-400';\n      case 'Medium': return 'text-orange-400';\n      case 'Low': return 'text-yellow-400';\n      default: return 'text-gray-400';\n    }\n  };\n  \n  // the date\n  const formatDate = (isoString) => {\n    if (!isoString) return 'N/A';\n    return new Date(isoString).toLocaleString();\n  };\n\n  const refreshData = async () => {\n    try {\n      setIsLoadingData(true);\n      setDataError(null);\n      const realTimeFireData = await fetchRealTimeFireData();\n      setFires(realTimeFireData);\n      console.log('Data refreshed successfully');\n    } catch (error) {\n      console.error('Failed to refresh data:', error);\n      setDataError(error.message);\n    } finally {\n      setIsLoadingData(false);\n    }\n  };\n\n  return (\n    <div className=\"h-screen flex flex-col bg-gray-900 text-white\">\n      {/* the header at the top with like the logo and other settings */}\n      <header className=\"bg-gray-800 p-4 shadow-lg\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-3\">\n            <Flame className=\"h-8 w-8 text-orange-500\" />\n            <h1 className=\"text-2xl font-bold\">Wildfire Prediction Dashboard</h1>\n          </div>\n          <div className=\"flex items-center space-x-4\">\n            <select \n              value={mapLayer} \n              onChange={(e) => setMapLayer(e.target.value)}\n              className=\"bg-gray-700 text-white px-3 py-2 rounded-lg border border-gray-600\"\n            >\n              <option value=\"satellite\">Satellite</option>\n              <option value=\"terrain\">Terrain</option>\n              <option value=\"standard\">Standard</option>\n            </select>\n            <button \n              onClick={refreshData}\n              disabled={isLoadingData}\n              className=\"bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-lg flex items-center space-x-2 disabled:opacity-50\"\n            >\n              <RefreshCw className={`h-4 w-4 ${isLoadingData ? 'animate-spin' : ''}`} />\n              <span>Refresh</span>\n            </button>\n          </div>\n        </div>\n      </header>\n\n      <div className=\"flex flex-1 overflow-hidden\">\n        {/* the actual map itself */}\n        <div className=\"flex-1 relative\">\n          <div \n            ref={mapRef} \n            className=\"w-full h-full\"\n            style={{ minHeight: '500px' }}\n          />\n\n          {/* this is that thing that pops up when u click on the icon */}\n          <div className=\"absolute top-4 left-4 bg-gray-800 bg-opacity-95 backdrop-blur-sm rounded-lg p-4 shadow-xl max-w-sm z-[1000] border border-gray-600\">\n            <h3 className=\"text-lg font-bold mb-3 flex items-center text-white\">\n              <AlertTriangle className=\"h-5 w-5 mr-2 text-orange-500\" />\n              Active Fires ({fires.length})\n            </h3>\n            \n            {isLoadingData && (\n              <div className=\"flex items-center justify-center py-4\">\n                <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-orange-500\"></div>\n                <span className=\"ml-2 text-sm\">Loading fire data...</span>\n              </div>\n            )}\n            \n            {dataError && (\n              <div className=\"bg-red-900 bg-opacity-50 p-3 rounded-lg mb-3 border border-red-700\">\n                <p className=\"text-sm text-red-200\">Backend Error: {dataError}</p>\n                <p className=\"text-xs text-red-300 mt-1\">Check Flask server status and logs.</p>\n              </div>\n            )}\n            \n            <div className=\"space-y-2 max-h-48 overflow-y-auto\">\n              {fires.map((fire) => (\n                <div\n                  key={fire.id}\n                  className=\"bg-gray-700 bg-opacity-90 p-3 rounded-lg cursor-pointer hover:bg-gray-600 hover:bg-opacity-95 transition-all duration-200 border border-gray-600\"\n                  onClick={() => handleFireClick(fire)}\n                >\n                  <div className=\"flex justify-between items-start\">\n                    <div className=\"flex-1\">\n                      <h4 className=\"font-semibold text-white\">{fire.name}</h4>\n                      <p className=\"text-sm text-gray-200\">{fire.size} acres</p>\n                      <p className=\"text-xs text-gray-300\">Containment: {fire.containment ? `${fire.containment}%` : 'N/A'}</p>\n                    </div>\n                    <div className=\"text-right ml-2\">\n                      <span className={`text-sm font-medium ${getSeverityColor(fire.severity)}`}>\n                        {fire.severity}\n                      </span>\n                      <div className=\"text-xs text-gray-400 mt-1\">\n                        Click for prediction\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        {/* panel where it shows predictions (the one on the right) */}\n        {showPrediction && (\n          <div className=\"w-96 bg-gray-800 p-6 overflow-y-auto shadow-xl border-l border-gray-700\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h2 className=\"text-xl font-bold\">Fire Prediction</h2>\n              <button\n                onClick={() => setShowPrediction(false)}\n                className=\"text-gray-400 hover:text-white transition-colors\"\n              >\n                <X className=\"h-5 w-5\" />\n              </button>\n            </div>\n\n            {loading ? (\n              <div className=\"flex items-center justify-center h-32\">\n                <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500\"></div>\n                <span className=\"ml-2\">Generating prediction...</span>\n              </div>\n            ) : (\n              selectedFire && prediction && (\n                <div className=\"space-y-6\">\n                  {/* fire info */}\n                  <div className=\"bg-gray-700 p-4 rounded-lg\">\n                    <h3 className=\"font-semibold text-lg mb-2\">{selectedFire.name}</h3>\n                    <div className=\"grid grid-cols-2 gap-2 text-sm\">\n                      <div>Size: {selectedFire.size} acres</div>\n                      <div>Containment: {selectedFire.containment ? `${selectedFire.containment}%` : 'N/A'}</div>\n                      <div className={getSeverityColor(selectedFire.severity)}>\n                        Severity: {selectedFire.severity}\n                      </div>\n                      <div>Updated: {formatDate(selectedFire.lastUpdate)}</div>\n                    </div>\n                  </div>\n\n                  {/* weather data */}\n                  {selectedFire.weather && (\n                    <div className=\"bg-gray-700 p-4 rounded-lg\">\n                      <h4 className=\"font-semibold mb-2 flex items-center\">\n                        <Thermometer className=\"h-4 w-4 mr-2\" />\n                        Current Weather\n                      </h4>\n                      <div className=\"grid grid-cols-2 gap-2 text-sm\">\n                        <div>Temperature: {selectedFire.weather.temperature}Â°F</div>\n                        <div>Humidity: {selectedFire.weather.humidity}%</div>\n                        <div className=\"flex items-center\">\n                          <Wind className=\"h-3 w-3 mr-1\" />\n                          Wind: {selectedFire.weather.windSpeed} mph {selectedFire.weather.windDirection}\n                        </div>\n                      </div>\n                    </div>\n                  )}\n\n                  {/* predictions */}\n                  <div className=\"bg-red-900 bg-opacity-50 p-4 rounded-lg border border-red-700\">\n                    <h4 className=\"font-semibold mb-2 flex items-center\">\n                      <Calendar className=\"h-4 w-4 mr-2\" />\n                      24-Hour Prediction\n                    </h4>\n                    <div className=\"space-y-2 text-sm\">\n                      <div>Estimated Size: {Math.round(prediction.estimatedSize)} acres</div>\n                      <div>Growth: +{Math.round(prediction.estimatedSize - selectedFire.size)} acres</div>\n                      <div>Risk Level: <span className=\"text-red-400 font-semibold\">{prediction.riskLevel}</span></div>\n                      <div>Confidence: {prediction.confidence}%</div>\n                      <div>Prediction Date: {formatDate(prediction.predictionDate)}</div>\n                    </div>\n                  </div>\n                </div> \n              )\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default WildfireDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}